<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="773px" preserveAspectRatio="none" style="width:930px;height:773px;background:#FFFFFF;" version="1.1" viewBox="0 0 930 773" width="930px" zoomAndPan="magnify"><defs/><g><ellipse cx="268.875" cy="20" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="44" x="246.875" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="24" x="256.875" y="71.1387">xlsx</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="206.375" y="103.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="105" x="216.375" y="125.1074">save data source</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="241.375" y="157.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="251.375" y="179.0762">parse</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="67" x="235.375" y="211.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="47" x="245.375" y="233.0449">validate</text><polygon fill="#F1F1F1" points="199.875,265.875,337.875,265.875,349.875,277.875,337.875,289.875,199.875,289.875,187.875,277.875,199.875,265.875" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="199.875" y="281.6831">separate invalid records</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83" x="104.875" y="275.2808">invalid records</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="349.875" y="275.2808">valid records</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="35" y="299.875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="45" y="321.0137">generate report</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="11" y="353.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="145" x="21" y="374.9824">send report to manager</text><ellipse cx="93.5" cy="418.8125" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="93.5" cy="418.8125" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="378.75" y="299.875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="111" x="388.75" y="321.0137">update staging DB</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="167" x="360.75" y="353.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="147" x="370.75" y="374.9824">run tests with agregates</text><polygon fill="#F1F1F1" points="415.25,407.8125,473.25,407.8125,485.25,419.8125,473.25,431.8125,415.25,431.8125,403.25,419.8125,415.25,407.8125" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="415.25" y="423.6206">pass tests</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="346.25" y="417.2183">has errors</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="51" x="485.25" y="417.2183">no errors</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="230" y="441.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="240" y="462.9512">generate report</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="206" y="510.7813"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="145" x="216" y="531.9199">send report to manager</text><ellipse cx="288.5" cy="590.75" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="288.5" cy="590.75" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="548,441.8125,652,441.8125,664,453.8125,652,465.8125,548,465.8125,536,453.8125,548,441.8125" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="548" y="457.6206">partial update flag</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="30" x="506" y="451.2183">False</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="664" y="451.2183">True</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="401" y="475.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114" x="411" y="496.9512">wait full valid batch</text><ellipse cx="468" cy="555.7813" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="468" cy="555.7813" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="672,475.8125,792,475.8125,804,487.8125,792,499.8125,672,499.8125,660,487.8125,672,475.8125" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="120" x="672" y="491.6206">wait for approval flag</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="634" y="485.2183">True</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="114" x="804" y="485.2183">no need to approve</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="565" y="509.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="135" x="575" y="530.9512">send form to manager</text><ellipse cx="642.5" cy="589.7813" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="642.5" cy="589.7813" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="778" y="509.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="67" x="788" y="530.9512">update WH</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="749.5" y="578.7813"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="124" x="759.5" y="599.9199">transform data for BI</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="163" x="740" y="632.75"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="143" x="750" y="653.8887">update data in DataMart</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="771.5" y="686.7188"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80" x="781.5" y="707.8574">BI dashboard</text><ellipse cx="268.875" cy="751.6875" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="268.875" cy="751.6875" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="268.875" x2="268.875" y1="30" y2="50"/><polygon fill="#181818" points="264.875,40,268.875,50,272.875,40,268.875,44" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="268.875" x2="268.875" y1="83.9688" y2="103.9688"/><polygon fill="#181818" points="264.875,93.9688,268.875,103.9688,272.875,93.9688,268.875,97.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="268.875" x2="268.875" y1="137.9375" y2="157.9375"/><polygon fill="#181818" points="264.875,147.9375,268.875,157.9375,272.875,147.9375,268.875,151.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="268.875" x2="268.875" y1="191.9063" y2="211.9063"/><polygon fill="#181818" points="264.875,201.9063,268.875,211.9063,272.875,201.9063,268.875,205.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="93.5" x2="93.5" y1="333.8438" y2="353.8438"/><polygon fill="#181818" points="89.5,343.8438,93.5,353.8438,97.5,343.8438,93.5,347.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="93.5" x2="93.5" y1="387.8125" y2="407.8125"/><polygon fill="#181818" points="89.5,397.8125,93.5,407.8125,97.5,397.8125,93.5,401.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="444.25" x2="444.25" y1="333.8438" y2="353.8438"/><polygon fill="#181818" points="440.25,343.8438,444.25,353.8438,448.25,343.8438,444.25,347.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="288.5" x2="288.5" y1="475.7813" y2="510.7813"/><polygon fill="#181818" points="284.5,500.7813,288.5,510.7813,292.5,500.7813,288.5,504.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="288.5" x2="288.5" y1="544.75" y2="579.75"/><polygon fill="#181818" points="284.5,569.75,288.5,579.75,292.5,569.75,288.5,573.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="468" y1="509.7813" y2="544.7813"/><polygon fill="#181818" points="464,534.7813,468,544.7813,472,534.7813,468,538.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="642.5" x2="642.5" y1="543.7813" y2="578.7813"/><polygon fill="#181818" points="638.5,568.7813,642.5,578.7813,646.5,568.7813,642.5,572.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821.5" x2="821.5" y1="543.7813" y2="578.7813"/><polygon fill="#181818" points="817.5,568.7813,821.5,578.7813,825.5,568.7813,821.5,572.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821.5" x2="821.5" y1="612.75" y2="632.75"/><polygon fill="#181818" points="817.5,622.75,821.5,632.75,825.5,622.75,821.5,626.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821.5" x2="821.5" y1="666.7188" y2="686.7188"/><polygon fill="#181818" points="817.5,676.7188,821.5,686.7188,825.5,676.7188,821.5,680.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="660" x2="642.5" y1="487.8125" y2="487.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="642.5" x2="642.5" y1="487.8125" y2="509.8125"/><polygon fill="#181818" points="638.5,499.8125,642.5,509.8125,646.5,499.8125,642.5,503.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="804" x2="821.5" y1="487.8125" y2="487.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="821.5" x2="821.5" y1="487.8125" y2="509.8125"/><polygon fill="#181818" points="817.5,499.8125,821.5,509.8125,825.5,499.8125,821.5,503.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="821.5" x2="821.5" y1="720.6875" y2="725.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="821.5" x2="268.875" y1="725.6875" y2="725.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="268.875" x2="268.875" y1="725.6875" y2="740.6875"/><polygon fill="#181818" points="264.875,730.6875,268.875,740.6875,272.875,730.6875,268.875,734.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="536" x2="468" y1="453.8125" y2="453.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="468" x2="468" y1="453.8125" y2="475.8125"/><polygon fill="#181818" points="464,465.8125,468,475.8125,472,465.8125,468,469.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="664" x2="732" y1="453.8125" y2="453.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="732" x2="732" y1="453.8125" y2="475.8125"/><polygon fill="#181818" points="728,465.8125,732,475.8125,736,465.8125,732,469.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="403.25" x2="288.5" y1="419.8125" y2="419.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="288.5" x2="288.5" y1="419.8125" y2="441.8125"/><polygon fill="#181818" points="284.5,431.8125,288.5,441.8125,292.5,431.8125,288.5,435.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="485.25" x2="600" y1="419.8125" y2="419.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="600" x2="600" y1="419.8125" y2="441.8125"/><polygon fill="#181818" points="596,431.8125,600,441.8125,604,431.8125,600,435.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="444.25" x2="444.25" y1="387.8125" y2="407.8125"/><polygon fill="#181818" points="440.25,397.8125,444.25,407.8125,448.25,397.8125,444.25,401.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="187.875" x2="93.5" y1="277.875" y2="277.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="93.5" x2="93.5" y1="277.875" y2="299.875"/><polygon fill="#181818" points="89.5,289.875,93.5,299.875,97.5,289.875,93.5,293.875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="349.875" x2="444.25" y1="277.875" y2="277.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="444.25" x2="444.25" y1="277.875" y2="299.875"/><polygon fill="#181818" points="440.25,289.875,444.25,299.875,448.25,289.875,444.25,293.875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="268.875" x2="268.875" y1="245.875" y2="265.875"/><polygon fill="#181818" points="264.875,255.875,268.875,265.875,272.875,255.875,268.875,259.875" style="stroke:#181818;stroke-width:1.0;"/><!--MD5=[6c225a1549aac4363297254b9cdbed8a]
@startuml
start
:xlsx;
:save data source;
:parse;
:validate;
if (separate invalid records) then (invalid records)
	:generate report;
	:send report to manager;
	stop
else (valid records)
	:update staging DB;
	:run tests with agregates;
	if (pass tests) then (has errors)
		:generate report;
		:send report to manager;
		stop
	else (no errors)
		if (partial update flag) then (False)
			:wait full valid batch;
			stop
		else (True)
			if (wait for approval flag) then (True)
				:send form to manager;
				stop
			else (no need to approve)
				:update WH;
				:transform data for BI;
				:update data in DataMart;
				:BI dashboard;
			endif
		endif
	endif
endif
stop
@enduml

PlantUML version 1.2022.7beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>