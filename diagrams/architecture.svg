<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="562px" preserveAspectRatio="none" style="width:997px;height:562px;background:#FFFFFF;" version="1.1" viewBox="0 0 997 562" width="997px" zoomAndPan="magnify"><defs/><g><!--MD5=[97866166e5ceb090d231688e3566af4d]
cluster ERP--><g id="cluster_ERP"><rect height="96" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="261" x="7" y="330.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="30" x="122.5" y="345.4951">ERP</text></g><!--MD5=[6749b937c0c22d1a2693ec12ddd6890d]
cluster Сервис централизованной аналитики--><g id="cluster_Сервис централизованной аналитики"><rect height="549" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="699" x="292" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="313" x="485" y="21.9951">Сервис централизованной аналитики</text></g><!--MD5=[cb6d5fcd57e2e58f9a1db57a999ba586]
cluster AP--><g id="cluster_AP"><rect height="218" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="262" x="316" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="100" x="397" y="64.9951">Admin Panel</text></g><!--MD5=[43e11ae77819885c83b5b603f8dc21c5]
cluster ETL--><g id="cluster_ETL"><rect height="240" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="651" x="316" y="292"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="239" x="522" y="306.9951">оркестратор задач (Airflow)</text></g><!--MD5=[19139553fbd8c1b2fb95569992f7d8c4]
cluster dag--><g id="cluster_dag"><path d="M684.5,335 L791.5,335 A3.75,3.75 0 0 1 794,337.5 L801,357.2969 L940.5,357.2969 A2.5,2.5 0 0 1 943,359.7969 L943,419.5 A2.5,2.5 0 0 1 940.5,422 L684.5,422 A2.5,2.5 0 0 1 682,419.5 L682,337.5 A2.5,2.5 0 0 1 684.5,335 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="682" x2="801" y1="357.2969" y2="357.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="106" x="686" y="349.9951">Airflow DAGs</text></g><!--MD5=[0cacb005cb15d84f864a5fcd36ec34b1]
cluster Automation platform (Zapier)--><g id="cluster_Automation platform (Zapier)"><rect height="97" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="260" x="8" y="171"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="244" x="16" y="185.9951">Automation platform (Zapier)</text></g><!--MD5=[3134f146646a74eb7ed887868fcb98c5]
entity ERP_prod--><g id="elem_ERP_prod"><path d="M23.5,375.5 C23.5,365.5 68,365.5 68,365.5 C68,365.5 112.5,365.5 112.5,375.5 L112.5,400.7969 C112.5,410.7969 68,410.7969 68,410.7969 C68,410.7969 23.5,410.7969 23.5,400.7969 L23.5,375.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.5,375.5 C23.5,385.5 68,385.5 68,385.5 C68,385.5 112.5,385.5 112.5,375.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="33.5" y="402.4951">ERP_prod</text></g><!--MD5=[d2fbe394c62a86aea95a239470a774a8]
entity ERP_replica--><g id="elem_ERP_replica"><path d="M148,375.5 C148,365.5 200,365.5 200,365.5 C200,365.5 252,365.5 252,375.5 L252,400.7969 C252,410.7969 200,410.7969 200,410.7969 C200,410.7969 148,410.7969 148,400.7969 L148,375.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M148,375.5 C148,385.5 200,385.5 200,385.5 C200,385.5 252,385.5 252,375.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="158" y="402.4951">ERP_replica</text></g><!--MD5=[8824c66cba45be527cf3dd56bcd70cd2]
entity nginx--><g id="elem_nginx"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="332.5" y="85"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="391.5" y="90"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="389.5" y="92"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="389.5" y="96"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="347.5" y="117.9951">nginx</text></g><!--MD5=[788ffb02e69a71dda3642c9a267eda8f]
entity webserver--><g id="elem_webserver"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="446.5" y="85"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="541.5" y="90"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="539.5" y="92"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="539.5" y="96"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="461.5" y="117.9951">webserver</text></g><!--MD5=[645d8587175d8f7ad110cd370775931d]
entity API--><g id="elem_API"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="337" y="206"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="425" y="211"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="423" y="213"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="423" y="217"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="352" y="238.9951">proxy API</text></g><!--MD5=[6cfba0569f9377fbb6969f8dc87b1d95]
entity airflow--><g id="elem_airflow"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="332.5" y="365"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="429.5" y="370"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="427.5" y="372"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="427.5" y="376"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="347.5" y="397.9951">Airflow API</text></g><!--MD5=[9687042e3dfea438b1fbbf2706c1dd45]
entity DataLake--><g id="elem_DataLake"><path d="M485,375.5 C485,365.5 529,365.5 529,365.5 C529,365.5 573,365.5 573,375.5 L573,400.7969 C573,410.7969 529,410.7969 529,410.7969 C529,410.7969 485,410.7969 485,400.7969 L485,375.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M485,375.5 C485,385.5 529,385.5 529,385.5 C529,385.5 573,385.5 573,375.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="495" y="402.4951">DataLake</text></g><!--MD5=[ad0f91464cfc2404121cdcd4e3400866]
entity DWH--><g id="elem_DWH"><path d="M608.5,375.5 C608.5,365.5 636,365.5 636,365.5 C636,365.5 663.5,365.5 663.5,375.5 L663.5,400.7969 C663.5,410.7969 636,410.7969 636,410.7969 C636,410.7969 608.5,410.7969 608.5,400.7969 L608.5,375.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M608.5,375.5 C608.5,385.5 636,385.5 636,385.5 C636,385.5 663.5,385.5 663.5,375.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="618.5" y="402.4951">DWH</text></g><!--MD5=[62942efc931d094969d95a2131abd39c]
entity DWH_replica--><g id="elem_DWH_replica"><path d="M637.5,481 C637.5,471 693,471 693,471 C693,471 748.5,471 748.5,481 L748.5,506.2969 C748.5,516.2969 693,516.2969 693,516.2969 C693,516.2969 637.5,516.2969 637.5,506.2969 L637.5,481 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M637.5,481 C637.5,491 693,491 693,491 C693,491 748.5,491 748.5,481 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="647.5" y="507.9951">DWH_replica</text></g><!--MD5=[937b3a4cd9388f30eff7766211528913]
entity InputDAG--><g id="elem_InputDAG"><path d="M837,372.5 L837,403.7969 A2.5,2.5 0 0 0 839.5,406.2969 L924.5,406.2969 A2.5,2.5 0 0 0 927,403.7969 L927,380 L917,370 L839.5,370 A2.5,2.5 0 0 0 837,372.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M917,370 L917,377.5 A2.5,2.5 0 0 0 919.5,380 L927,380 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="847" y="392.9951">InputDAG</text></g><!--MD5=[46d32c8d0680a10885950b651962200e]
entity OutputDAG--><g id="elem_OutputDAG"><path d="M698.5,372.5 L698.5,403.7969 A2.5,2.5 0 0 0 701,406.2969 L799,406.2969 A2.5,2.5 0 0 0 801.5,403.7969 L801.5,380 L791.5,370 L701,370 A2.5,2.5 0 0 0 698.5,372.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M791.5,370 L791.5,377.5 A2.5,2.5 0 0 0 794,380 L801.5,380 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="708.5" y="392.9951">OutputDAG</text></g><!--MD5=[d6856b040a1663a798ad7a4fdedcc4e9]
entity trigger--><g id="elem_trigger"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="41" y="206"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="111" y="211"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="109" y="213"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="109" y="217"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="56" y="238.9951">trigger</text></g><!--MD5=[f02ac73a0424ff9b4235b8ce5a24cc8f]
entity action--><g id="elem_action"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85" x="166.5" y="206"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="231.5" y="211"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="229.5" y="213"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="229.5" y="217"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="181.5" y="238.9951">action</text></g><!--MD5=[97ab183161fd5d1db7fba7485cf76add]
entity Admin--><g id="elem_Admin"><ellipse cx="169" cy="78.5" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M169,86.5 L169,113.5 M156,94.5 L182,94.5 M169,113.5 L156,128.5 M169,113.5 L182,128.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="146" y="142.9951">Admin</text></g><!--MD5=[cf87ec952c94df9dadfcf20c0fc66baf]
link ERP_prod to ERP_replica--><g id="link_ERP_prod_ERP_replica"><path d="M112.602,388 C122.583,388 132.565,388 142.546,388 " fill="none" id="ERP_prod-to-ERP_replica" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="147.766,388,138.766,384,142.766,388,138.766,392,147.766,388" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[06a9b1b1081fcaf82307223b0b6cdc3f]
link Admin to nginx--><g id="link_Admin_nginx"><path d="M192.393,108 C237.317,108 282.242,108 327.166,108 " fill="none" id="Admin-to-nginx" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="332.36,108,323.36,104,327.36,108,323.36,112,332.36,108" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[ef786dfc8530ef5c8279f029d8514e32]
link nginx to webserver--><g id="link_nginx_webserver"><path d="M411.703,108 C421.528,108 431.352,108 441.177,108 " fill="none" id="nginx-to-webserver" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="446.314,108,437.314,104,441.314,108,437.314,112,446.314,108" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[cb3cf98dd362a5ca53c6f2b414ce3b22]
link webserver to API--><g id="link_webserver_API"><path d="M483.01,131.104 C464.023,151.099 436.038,180.57 415.921,201.755 " fill="none" id="webserver-to-API" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="412.261,205.61,421.3589,201.8379,415.7039,201.9842,415.5576,196.3293,412.261,205.61" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[ea9284ec30246fdac682df986b30453c]
link API to airflow--><g id="link_API_airflow"><path d="M391,252.161 C391,280.447 391,329.359 391,359.852 " fill="none" id="API-to-airflow" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="391,364.951,395,355.951,391,359.951,387,355.951,391,364.951" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[c58555e18a7d9d504ecac75ee26babb6]
link ERP_replica to InputDAG--><g id="link_ERP_replica_InputDAG"><path d="M214.457,365.433 C235.284,335.862 276.867,287.065 327.667,281.333 C354.147,278.346 780.853,278.346 807.333,281.333 C812.619,281.93 814.688,280.886 819,284 C846.961,304.192 864.892,340.97 874.207,364.939 " fill="none" id="ERP_replica-to-InputDAG" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="876.065,369.849,876.6196,360.0158,874.2948,365.1728,869.1378,362.848,876.065,369.849" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7634c992412c49cca65acf563e8effc9]
link InputDAG to DataLake--><g id="link_InputDAG_DataLake"><path d="M876.065,369.849 C867.392,346.286 848.95,305.628 819,284 C812.532,279.329 809.428,280.895 801.5,280 C758.882,275.191 651.118,275.191 608.5,280 C600.572,280.895 597.452,279.306 591,284 C564.974,302.934 547.902,336.421 538.383,360.281 " fill="none" id="InputDAG-to-DataLake" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="536.466,365.217,543.4532,358.2758,538.2763,360.5562,535.9959,355.3794,536.466,365.217" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e465f89d69f1fb96809b90450d697ed0]
link DataLake to DWH--><g id="link_DataLake_DWH"><path d="M573.305,388 C583.176,388 593.047,388 602.919,388 " fill="none" id="DataLake-to-DWH" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="608.081,388,599.081,384,603.081,388,599.081,392,608.081,388" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[3b0f7f5b6a9f3434e02e807696530efb]
link DWH to DWH_replica--><g id="link_DWH_DWH_replica"><path d="M647.949,410.697 C656.841,426.843 669.023,448.963 678.477,466.13 " fill="none" id="DWH-to-DWH_replica" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="681.067,470.832,680.2291,461.0189,678.6549,466.4523,673.2215,464.8782,681.067,470.832" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[6d3a5398ec864c3e48155e13e03d93b7]
link DWH_replica to OutputDAG--><g id="link_DWH_replica_OutputDAG"><path d="M705.006,470.7 C714.695,453.107 728.263,428.47 737.961,410.86 " fill="none" id="DWH_replica-to-OutputDAG" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="740.588,406.091,732.741,412.0429,738.1748,410.4701,739.7476,415.9039,740.588,406.091" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8e6350107f0e5fba24bb3aba7c97c37b]
link OutputDAG to ERP_prod--><g id="link_OutputDAG_ERP_prod"><path d="M745.482,369.889 C738.646,346.369 723.357,305.76 695,284 C688.67,279.143 685.428,280.895 677.5,280 C648.241,276.699 176.759,276.699 147.5,280 C139.572,280.895 136.452,279.306 130,284 C103.974,302.934 86.9021,336.421 77.3829,360.281 " fill="none" id="OutputDAG-to-ERP_prod" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="75.4658,365.217,82.4525,358.2754,77.2758,360.5561,74.9951,355.3794,75.4658,365.217" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[3367905606e513f2ad43e347056f2599]
link trigger to action--><g id="link_trigger_action"><path d="M131.164,229 C141.175,229 151.187,229 161.198,229 " fill="none" id="trigger-to-action" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="166.433,229,157.433,225,161.433,229,157.433,233,166.433,229" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[16b5a234d268d696ce8ffd93c91b8c79]
link Admin to trigger--><g id="link_Admin_trigger"><path d="M145.88,142.148 C132.791,160.914 116.645,184.063 104.419,201.592 " fill="none" id="Admin-to-trigger" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="101.399,205.922,109.8279,200.8276,104.2589,201.8207,103.2658,196.2517,101.399,205.922" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[86dbbf601fb8d453d0c5c5f1e32cc871]
link action to API--><g id="link_action_API"><path d="M251.656,229 C278.276,229 304.897,229 331.517,229 " fill="none" id="action-to-API" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="336.841,229,327.841,225,331.841,229,327.841,233,336.841,229" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[45f12e03ccf6dded41213375d619afb7]
@startuml
actor Admin

rectangle ERP {
	database ERP_prod
	database ERP_replica
	ERP_prod -> ERP_replica
}

rectangle "Сервис централизованной аналитики"  {

	rectangle "Admin Panel" as AP {
		[nginx]
		[webserver]
		[proxy API] as API

		Admin -> nginx
		nginx -> webserver
		webserver - -> API
	}

	rectangle "оркестратор задач (Airflow)" as ETL {
		folder "Airflow DAGs" as dag {
			file InputDAG
			file OutputDAG
		}
		[Airflow API] as airflow
		API - -> airflow


		database DataLake
		database DWH
		database DWH_replica

		ERP_replica -> InputDAG
		InputDAG -> DataLake
		DataLake -> DWH

		DWH - -> DWH_replica
		DWH_replica -> OutputDAG
		OutputDAG -> ERP_prod
	}
}



rectangle "Automation platform (Zapier)" {
	[trigger]
	[action]
	trigger -> action
}
Admin -> trigger
action -> API
@enduml

PlantUML version 1.2022.7beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>